# MySubscriptions - Telegram Bot –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

Telegram –±–æ—Ç —Å Mini App –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì± Telegram Mini App —Å –∫—Ä–∞—Å–∏–≤—ã–º dark mode –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ
- üîî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫
- üìä –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–æ–∫
- üé® –ü—Ä–µ—Å–µ—Ç—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Netflix, Spotify, –∏ –¥—Ä.)
- üìÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–∏–∫–ª–æ–≤ –æ–ø–ª–∞—Ç—ã –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- üóÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Node.js + Express
- PostgreSQL
- Telegram Bot API (node-telegram-bot-api)
- node-cron –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

**Frontend:**
- React + Vite
- Telegram Web App SDK
- Axios

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- PostgreSQL 15+
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/botfather))

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞**

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ backend:**

\`\`\`bash
cd backend
npm install
cp .env.example .env
\`\`\`

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
\`\`\`
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_WEBAPP_URL=https://your-domain.com
PORT=3000
DATABASE_URL=postgresql://postgres:password@localhost:5432/mysubscriptions
NODE_ENV=development
\`\`\`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ frontend:**

\`\`\`bash
cd ../frontend
npm install
cp .env.example .env
\`\`\`

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
\`\`\`
VITE_API_URL=http://localhost:3000/api
\`\`\`

4. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**

\`\`\`bash
createdb mysubscriptions
\`\`\`

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:**

\`\`\`bash
cd backend
npm run dev
\`\`\`

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend:**

\`\`\`bash
cd frontend
npm run dev
\`\`\`

### Docker

\`\`\`bash
# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cp backend/.env.example .env

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d
\`\`\`

## –°–æ–∑–¥–∞–Ω–∏–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App URL:
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/mybots`
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   - Bot Settings ‚Üí Menu Button ‚Üí URL
   - –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## API Endpoints

### Subscriptions

- `GET /api/subscriptions/:telegramId` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/subscriptions` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `PUT /api/subscriptions/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `DELETE /api/subscriptions/:id` - —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

### Users

- `POST /api/users/init` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/categories` - –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- `subscriptions` - –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫

## –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏ –∫–∞–∂–¥—ã–π —á–∞—Å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- 1 –¥–µ–Ω—å –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è
- 3 –¥–Ω—è –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è
- 1 –Ω–µ–¥–µ–ª—è –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è
- 2 –Ω–µ–¥–µ–ª–∏ –¥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

\`\`\`
mysubscriptions/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/       # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/       # API —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/   # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/       # CSS —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/          # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/        # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx       # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ docker-compose.yml
\`\`\`

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT